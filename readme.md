# FE-newsstand

ì†Œí”„í‹°ì–´ 2ê¸° news stand í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

## ë””ìì¸ íŒ¨í„´

### MVC íŒ¨í„´

Model(store)ê³¼ View(component)ë¥¼ ë¶„ë¦¬í•˜ê³  ì¤‘ì¬í•˜ëŠ” ì—­í• ì„ í•˜ëŠ” controllerë¥¼ ì •ì˜í•˜ì˜€ìŠµë‹ˆë‹¤.

### ì˜µì €ë²„ íŒ¨í„´

Modelì´ ë³€í•˜ë©´ ê·¸ì™€ ê´€ë ¨ëœ Viewë¥¼ ë³€í•˜ë„ë¡ í•˜ëŠ” ì˜µì €ë²„ íŒ¨í„´ì„ ì ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

## ê¸°ëŠ¥

### êµ¬ë…í•˜ê¸°

https://github.com/jijiseong/fe-newsstand/assets/77661228/6c7bb429-cc1b-48b0-b6d4-36120c0c1ee4

### êµ¬ë… í•´ì§€í•˜ê¸°
https://github.com/jijiseong/fe-newsstand/assets/77661228/f434f5d4-98c0-44d0-9171-1862860d4c86

### ë‹¤í¬ëª¨ë“œ

https://github.com/jijiseong/fe-newsstand/assets/77661228/a1097228-437b-4a38-8eba-27aaac12d96c

## ê°€ì¥ ì–´ë ¤ì› ë˜ ì 

### 1. í˜ì´ì§•

#### ğŸŒŸ í˜ì´ì§•ì‹œ ê¹œë¹¡ì„ í˜„ìƒ

ì–´ë–»ê²Œ í•˜ë©´ í˜ì´ì§€ ì „í™˜ì‹œ ë¹ ë¥´ê²Œ ì „í™˜í•  ìˆ˜ ìˆì„ê¹Œ ê³ ë¯¼í•˜ì˜€ìŠµë‹ˆë‹¤.  
SPAì²˜ëŸ¼ í‰ë‚´ë‚´ì–´, í˜ì´ì§€ ì ‘ì† ì‹œ ëª¨ë“  í˜ì´ì§€ë¥¼ ë Œë”ë§í•´ ë†“ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

ëª¨ë“  í˜ì´ì§€ë¥¼ ë Œë”ë§í•˜ê³  `display: none` ì†ì„±ì„ í†µí•´ ëª¨ë‘ ìˆ¨ê¹ë‹ˆë‹¤.  
í•„ìš”í•œ í˜ì´ì§€ë§Œ `display` ì†ì„±ì„ ìˆ˜ì •í•˜ì—¬ í™”ë©´ì— ë³´ì—¬ì¤ë‹ˆë‹¤.

#### ğŸ“” í˜ì´ì§• ì¢…ë¥˜ê°€ ë„ˆë¬´ ë§ì•„ìš”~!

ë‹¤ì–‘í•œ í˜ì´ì§•ì„ êµ¬í˜„í•˜ë©´ì„œ ë¡œì§ì´ ë³µì¡í•´ì¡ŒìŠµë‹ˆë‹¤.

pageType(ê·¸ë¦¬ë“œ ë·°, ë¦¬ìŠ¤íŠ¸ ë·°), pageMode(ì „ì²´ë³´ê¸°, ë‚´ê°€ êµ¬ë…í•œ ì–¸ë¡ ì‚¬ ë³´ê¸°) stateë¥¼ ì •ì˜í•˜ì˜€ìŠµë‹ˆë‹¤.  
ê·¸ë¦¬ê³  ì•„ë˜ì˜ ë·°ë“¤ì— ëŒ€í•´ ì‚¬ìš©í•˜ëŠ” í˜ì´ì§€ stateë¥¼ ë”°ë¡œ ë¶„ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.

- ê·¸ë¦¬ë“œ ë·°(ì „ì²´ë³´ê¸°)
- ë¦¬ìŠ¤íŠ¸ ë·°(ì „ì²´ë³´ê¸°)
- ê·¸ë¦¬ë“œ ë·°(ë‚´ê°€ êµ¬ë…í•œ ì–¸ë¡ ì‚¬ ë³´ê¸°)
- ë¦¬ìŠ¤íŠ¸ ë·°(ë‚´ê°€ êµ¬ë…í•œ ì–¸ë¡ ì‚¬ ë³´ê¸°)

ìœ„ì˜ stateë¥¼ í™œìš©í•´ í•„ìš”í•œ í˜ì´ì§€ì˜ `display` ì†ì„±ì„ ìˆ˜ì •í•˜ë©´ì„œ í˜ì´ì§•ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

### 2. RAFë¥¼ í™œìš©í•´ í”„ë¡œê·¸ë ˆìŠ¤ ë°” ì• ë‹ˆë©”ì´ì…˜ êµ¬í˜„

#### ğŸ•¹ï¸ requestAnimationFrame ?

`requestAnimationFrame(callback)` ëŠ” í™”ë©´ì— ì• ë‹ˆë©”ì´ì…˜ì„ ì—…ë°ì´íŠ¸í•  ì¤€ë¹„ê°€ ë  ë•Œë§ˆë‹¤ ì½œë°± í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.  
ì½œë°±í•¨ìˆ˜ë¥¼ ì¬ê·€ì ìœ¼ë¡œ êµ¬í˜„í•˜ì—¬ ì—°ì†ì ì¸ ì• ë‹ˆë©”ì´ì…˜ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```javascript
let runningTime = 20000;
let start;

const callback = (timestamp) => {
  start === undefined ? (start = timestamp) : null;
  const elapsed = timestamp - start;

  ...

  percentage = (elapsed / runningTime) * 100;
  $progressbar.style.width = `${percentage}%`;

  raf = requestAnimationFrame(performAnimation);
};
```

`callback` í•¨ìˆ˜ëŠ” `timestamp`ë¥¼ ì¸ìë¡œ ë°›ìŠµë‹ˆë‹¤.
ì´ë¥¼ í™œìš©í•´ ì• ë‹ˆë©”ì´ì…˜ì´ ì‹¤í–‰ë˜ê³  ê²½ê³¼ëœ ì‹œê°„ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê²½ê³¼ëœ ì‹œê°„ì— ë¹„ë¡€í•˜ì—¬ `progressbar.style.width`ë¥¼ 0~100%ê¹Œì§€ ë³€ê²½ë˜ê²Œ í•˜ì˜€ìŠµë‹ˆë‹¤.

#### âŒ íŠ¹ì • ìƒí™©ì—ì„œ ì¤‘ì§€


```javascript
const callback = (timestamp) => {
  ...

  if (elapsed >= runningTime) {
    cancelAnimationFrame(raf);
    return;
  }

  if (!clicked) {
    cancelAnimationFrame(raf);
    return;
  }

  if (startPage !== getState(listPageState)) {
    cancelAnimationFrame(raf);
    return;
  }

  if (startMode !== getState(pageModeState)) {
    cancelAnimationFrame(raf);
    return;
  }
};
```
íŠ¹ì • ìƒí™©ì—ì„œ ì• ë‹ˆë©”ì´ì…˜ì„ ì¤‘ì§€í•´ì•¼í•˜ëŠ” ìƒí™©ì´ ìˆìŠµë‹ˆë‹¤.
20ì´ˆê°€ ê²½ê³¼ ë˜ì—ˆì„ë•Œ, ë‹¤ë¥¸ ì¹´í…Œê³ ë¦¬ê°€ í´ë¦­ ë˜ì—ˆì„ë•Œ, í˜ì´ì§€ê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ ë“± `if`ë¬¸ê³¼ `cancelAnimationFrame` í•¨ìˆ˜ë¥¼ í†µí•´ rafë¥¼ ì¤‘ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
