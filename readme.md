# FE-NEWSSTAND
## 🗂 디렉토리 구조 설계
```
├── assets
│   ├── dark-media.json
│   ├── light-media.json
│   └── media.json
├── css
│   ├── init-style.css
│   ├── main-style.css
│   └── reset.css
├── img
│   ├── dark-media
│   │   ├── 0.png
│   │   └── 95.png
│   ├── icons
│   │   ├── Button.svg
│   │   └── unsubBtn.svg
│   ├── light-media
│   │   ├── 0.png
│   │   └── 95.png
│   └── thumbnail
│       ├── thumbnail1.jpg
├── js
│   ├── app.js
│   ├── component
│   │   ├── modal.js
│   │   ├── newsRolling.js
│   │   └── setHeader.js
│   ├── observer
│   │   ├── observer.js
│   │   └── subscriber.js
│   ├── store
│   │   ├── const.js
│   │   └── store.js
│   ├── subscribe
│   │   ├── subscribe.js
│   │   └── subscribeList.js
│   ├── util
│   │   ├── darkMode.js
│   │   ├── initValue.js
│   │   ├── slider.js
│   │   └── utils.js
│   └── view
│       ├── gridView.js
│       ├── listView.js
│       └── viewHandler.js
├── main.html
└── readme.md
```
크게 assets, css, js, img로 폴더 구조를 나누고, js 폴더는 기능별로 `component`, `observer`, `store`, `subscribe`, `util`, `view`로 나눴다.
`component`에는 재사용하는 modal을 포함해 롤링과 헤더 세팅 관련 파일을,<br>
`observer`에는 옵저버 패턴을 적용한 스토어와 구독 함수를 모아놓은 파일을,<br>
`stroe`에는 옵저버 패턴을 적용한 스토어를 초기화하는 함수들과 상수를 모아놓은 파일을,<br>
`subscribe`에는 구독과 관련된 함수를 모아놓은 파일을,<br>
`util`에는 재사용성이 높은 함수들을 모아놓은 파일을,<br>
`view`에는 직접적으로 화면알 구성하는데 필요한 함수들을 모아놓은 파일을 담았다.

## 🔬 전체적인 구조 설계
<img width="767" alt="스크린샷 2023-07-27 오후 4 09 04 복사본" src="https://github.com/sseungki98/fe-newsstand/assets/79951703/f94cb7c0-e471-4a2f-9820-c642a998f4da"><br>
크게 4부분으로 나누어 개발을 진행했다.<br>
처음 개발을 진행했을 땐 뉴스 영역을 4가지로 나누어 함수를 모두 따로 작성했다.<br>
그러다보니 너무 구조도 복잡하고 함수도 길고 파일도 많아져서 리팩토링을 진행하며 리스트화면, 그리드화면 두개로 변경했다.<br>
상태는 `isSubView`, `isGridView`로 관리하여, 구독 화면인지, 리스트 or 그리드 화면인지 판단하여 맞는 데이터를 갈아끼워줬다.

## 📝 결과
### Grid-Total View(main)
<img width="1076" alt="스크린샷 2023-07-27 오후 4 19 26" src="https://github.com/sseungki98/fe-newsstand/assets/79951703/980e5d91-8743-4a0d-b165-dfae8b110a8d"><br>
- 새로 고침 할 때마다 언론사 랜덤으로 셔플하여 출력
- 5초마다 다음 뉴스로 넘어가고, 좌 우 1초 간격을 유지하는 뉴스 롤링 바 구현
- 화살표로 언론사 리스트를 넘길 수 있음
- 언론사 hover시 구독하기 버튼이 뜨고, 클릭하면 구독 완료 스낵바 출력
- 구독이 된 언론사 hover시 구독해제 버튼이 뜨고, 클릭하면 구독 해제 질문 모달 출력

### Grid-Sub View
<img width="1050" alt="스크린샷 2023-07-27 오후 4 20 01" src="https://github.com/sseungki98/fe-newsstand/assets/79951703/07e02ef0-6366-42e7-a32f-035e12899011"><br>
- 구독이 완료된 언론사들이 모여있음
- 언론사 hover시 구독 해제 버튼이 뜨고, 클릭하면 구독 해제 질문 모달 출력

### List-Total View
<img width="1078" alt="스크린샷 2023-07-27 오후 4 19 49" src="https://github.com/sseungki98/fe-newsstand/assets/79951703/b6b8c8fd-dee9-48ee-9eed-940927a10a71"><br>
- 카테고리별로 뉴스를 확인할 수 있음
- 20초가 지나면 다음 뉴스로 자동 이동하는 프로그래스 바 구현
- 마지막 카테고리의 마지막 뉴스에서 프로그래스 바를 통해 다음 뉴스로 넘어가면 첫 카테고리로 이동
- 구독 버튼을 통해 구독 가능

### List-Sub View
<img width="1069" alt="스크린샷 2023-07-27 오후 4 19 39" src="https://github.com/sseungki98/fe-newsstand/assets/79951703/8d13d16e-efb2-484c-bbac-e6cff2988c2e"><br>
- 구독된 언론사의 이름들이 nav바에 넣어짐
- 마찬가지로 프로그래스 바 적용
- Nav바 크기를 넘어가면 드래그로 리스트를 넘길 수 있음
- 구독 해제 가능

### Dark Mode
<img width="1044" alt="스크린샷 2023-07-27 오후 4 33 39" src="https://github.com/sseungki98/fe-newsstand/assets/79951703/16c22240-7a9e-4366-97e6-5ea56197cce7"><br>
- 버튼으로 다크모드/라이트모드 변경 가능 -> 클래스에 css 속성을 변경해주는 방식으로 구현

## 😎 느낀 점
### 함수를 나누는 것의 중요성
처음에는 함수를 나누지 않고 기능만 와라라 작성했는데, 그러다보니 함수 하나의 길이가 길어지고 가독성이 좋지 않았다. 내가 짠 코드지만 어디서 어떤 기능을 하는지 판단하기 어려울 정도였다. 그래서 함수 내부에서 나눌 수 있는 부분은 따로 함수로 빼서 작성하니, 함수의 개수는 많아졌지만 하나의 함수 내에서 어떤 행위를 하는지 명확하게 확인할 수 있게 되었다. 단순히 기능한다고 좋은 코드가 아니라, 기능은 기본으로 하되 가독성이 좋고 깔끔한 코드가 좋은 코드라는 것을 다시금 느꼈다.

### 설계의 중요성
기능 구현에 급급해 설계를 깊게 하지 않고 대충 한 뒤 작업에 들어갔다. 어찌어찌 처음엔 빠르게 개발할 수 있었는데, 중간부터 기능이 많아지면서 코드가 꼬이기 시작했다. 코드의 재사용성을 고려하지 않고 작성했기 때문에 하나를 바꾸면 다른 함수들을 일일히 찾아가 바꿔줘야하는 현상이 있었다. 비효율의 끝판왕 !!
또한 작성하면서, 이렇게 만들었으면 더 편하게 구현했을 것 같다라고 생각한 부분들이 있었지만, 이미 돌아갈 수 없는 강을 건넜기 때문에 수정할 수 없었다. 그래서 중후반에 코드 작성하는데 애먹었던 것 같다 ㅎㅎ 다음 프로젝트를 진행할 때에는 시간이 좀 더 걸리더라도 확실히 설계를 하고 들어가야 겠다고 생각했다. 그렇게 걸린 시간보다, 나중에 설계하지 않고 허둥지둥 보내는 시간이 더 많은 것 같다.

### 고차함수
이전에 코딩을 할 땐, for문을 주로 사용했다. 하지만 여기서 고차함수를 배우고, 고차함수를 사용하고 있다. 고차함수는 이터러블한 객체에 사용할 수 있고, 콜백함수를 넘겨줄 수 있어 원하는 행동을 실행할 수 있다. 자주 사용하는 고차함수는 `map`, `reduce`, `forEach`, `find` 등이 있는데, 정말 효율이 좋은 것 같다. 아직 `reduce`는 확실히 개념을 정립하지 못했지만 따로 블로그를 정리하면서 공부해야겠다.

### 브랜치 분기의 중요성
예전엔 main 브랜치에서 북치고 장구치고 상모돌리고 비보잉하고 다 했다. 그러다보니 코드 작성하다 오류가 생기면 이전으로 돌리는게 너무 어려웠다. 내가 어디까지 했더라...?
브랜치를 파서 작업을 하니 만약 오류가 있으면 이전 브랜치로 돌아가면 쉽게 복구할 수 있었다. 브랜치를 파는게 익숙치 않아 처음엔 "아 왜 메인에 있지 .." 이러면서 작업했는데, 후반부에 다다르니 나도 모르게 하나의 기능을 구현하려고 하면 브랜치 파고 있었다.
사실 이 과제는 혼자 진행했기 때문에 브랜치가 크게 중요하진 않았지만, 여럿이서 하는 프로젝트의 경우 브랜치 분기가 정말 중요하다고 하니, 이 부분을 유의해야겠다.





